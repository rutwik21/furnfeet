"use strict";exports.id=623,exports.ids=[623],exports.modules={80623:(e,r,s)=>{s.d(r,{T:()=>getPayloadClient});var t=s(56718),o=s.n(t),l=s(71017),n=s.n(l),a=s(90409),i=s.n(a),p=s(66709);o().config({path:n().resolve(__dirname,"../.env")});let c=p.createTransport({host:"smtp-relay.brevo.com",port:587,secure:!1,auth:{user:process.env.BREAVO_USER,pass:process.env.BREAVO_API_KEY}}),m=global.payload;m||(m=global.payload={client:null,promise:null});let getPayloadClient=async({initOptions:e}={})=>{if(!process.env.PAYLOAD_SECRET)throw Error("PAYLOAD_SECRET is missing");if(m.client)return m.client;m.promise||(m.promise=i().init({email:{transport:c,fromAddress:process.env.BREAVO_USER,fromName:"FurnFeet"},secret:process.env.PAYLOAD_SECRET,local:!e?.express,...e||{}}));try{m.client=await m.promise}catch(e){throw m.promise=null,e}return m.client}}};